(function(e){function t(t){for(var i,r,s=t[0],o=t[1],l=t[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var s=n[r];0!==c[s]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},c={app:0},a=[];function s(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-319681ae":"8529ccee"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n={"chunk-319681ae":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var i="css/"+({}[e]||e)+"."+{"chunk-319681ae":"e618d5fb"}[e]+".css",c=o.p+i,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===c))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===i||u===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=i,delete r[e],f.parentNode.removeChild(f),n(a)},f.href=c;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[e]=0})));var i=c[e];if(0!==i)if(i)t.push(i[2]);else{var a=new Promise((function(t,n){i=c[e]=[t,n]}));t.push(i[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=s(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,n[1](d)}c[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/test-for-maximum-education/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1817:function(e,t,n){"use strict";n("2311")},2311:function(e,t,n){},"30cd":function(e,t,n){"use strict";n("ed5a")},"47c6":function(e,t,n){"use strict";n("508a")},"508a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f5df1");var i=n("7a23"),r=(n("96cf"),n("1da1")),c=n("5502"),a=(n("a4d3"),n("e01a"),n("d3b7"),"https://60254fac36244d001797bfe8.mockapi.io/api/v1"),s=function(e){return e.ok?e.json():console.log("Error",e.status)},o=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"/city"));case 2:return t=e.sent,e.abrupt("return",s(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.filial,i=t.theme,r=t.description,c=t.file,e.next=3,fetch("".concat(a,"/send-form"),{method:"POST",body:JSON.stringify({filial:n,theme:i,description:r,file:c})});case 3:return o=e.sent,e.abrupt("return",s(o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=Object(c["a"])({strict:!1,state:function(){return{filials:[],isPostSuccess:!1}},mutations:{setFilials:function(e,t){e.filials=t},setPostSuccessTrue:function(e){e.isPostSuccess=!0}},actions:{getFilials:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,o();case 4:i=t.sent,n("setFilials",i),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},sendData:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.commit,n.prev=1,n.next=4,l(t);case 4:r=n.sent,!0===r.success&&i("setPostSuccessTrue"),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}}}),d=u,f=n("6c02"),p=Object(i["g"])("h1",{class:"form__title"},"Форма подачи заявки в отдел сервиса и качества",-1),m={class:"form__container"};function h(e,t,n,r,c,a){var s=Object(i["v"])("FilialFieldset"),o=Object(i["v"])("ThemeFieldset"),l=Object(i["v"])("DescriptionFieldset"),u=Object(i["v"])("FileFieldset");return Object(i["p"])(),Object(i["d"])("form",{class:"form",onSubmit:t[1]||(t[1]=function(e){return a.handleSubmit(e)})},[p,Object(i["g"])("div",m,[Object(i["g"])(s,{onValidate:a.validateFilial,setFilial:a.setFilial},null,8,["onValidate","setFilial"]),Object(i["g"])(o,{onValidate:a.validateTheme,setTheme:a.setTheme},null,8,["onValidate","setTheme"]),Object(i["g"])(l,{onValidate:a.validateDescription,setDescription:a.setDescription},null,8,["onValidate","setDescription"]),Object(i["g"])(u,{setFile:a.setFile},null,8,["setFile"]),Object(i["g"])("button",{class:"form__submit-button",disabled:!a.isFormValid},"Отправить",8,["disabled"])])],32)}var b=Object(i["g"])("option",{class:"form__option",value:"",selected:"",disabled:""},"Выберите город",-1),v={class:"form__input-container"},g=Object(i["g"])("label",{class:"form__label"},"Онлайн",-1);function O(e,t,n,r,c,a){var s=Object(i["v"])("Fieldset");return Object(i["p"])(),Object(i["d"])(s,{legend:"Ваш филиал",required:""},{default:Object(i["E"])((function(){return[Object(i["F"])(Object(i["g"])("select",{name:"city",class:"form__select",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.selected=e}),onChange:t[2]||(t[2]=function(t){return e.$emit("validate",a.isValid),n.setFilial(a.currentFilial)}),disabled:c.checked},[b,(Object(i["p"])(!0),Object(i["d"])(i["a"],null,Object(i["t"])(a.filials,(function(e){return Object(i["p"])(),Object(i["d"])("option",{class:"form__option",key:e.id,value:e.title},Object(i["x"])(e.title),9,["value"])})),128))],40,["disabled"]),[[i["B"],c.selected]]),Object(i["g"])("div",v,[Object(i["F"])(Object(i["g"])("input",{class:"form__checkbox",type:"checkbox",name:"online","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.checked=e}),onChange:t[4]||(t[4]=function(t){return e.$emit("validate",a.isValid),n.setFilial(a.currentFilial)})},null,544),[[i["z"],c.checked,void 0,{trim:!0}]]),g])]})),_:1})}var j={class:"fieldset"},F={class:"fieldset__legend"},_={key:0,class:"fieldset__required-label"};function k(e,t,n,r,c,a){return Object(i["p"])(),Object(i["d"])("fieldset",j,[Object(i["g"])("legend",F,[Object(i["f"])(Object(i["x"])(n.legend)+" ",1),n.required?(Object(i["p"])(),Object(i["d"])("span",_,"*")):Object(i["e"])("",!0)]),Object(i["u"])(e.$slots,"default")])}var y={name:"Fieldset",props:{legend:String,required:Boolean}};n("1817");y.render=k;var x=y,V={name:"FilialFieldset",components:{Fieldset:x},props:["setFilial"],data:function(){return{selected:"",checked:!1}},computed:{filials:function(){return this.$store.state.filials},isValid:function(){return!(!this.selected&&!this.checked)},currentFilial:function(){return this.checked?"online":this.selected}},mounted:function(){this.$store.dispatch("getFilials")}};n("5f81");V.render=O;var w=V,T={class:"form__input-container"},D=Object(i["g"])("label",{class:"form__label"},"Недоволен качеством услуг",-1),S={class:"form__input-container"},C=Object(i["g"])("label",{class:"form__label"},"Расторжение договора",-1),P={class:"form__input-container"},$=Object(i["g"])("label",{class:"form__label"},"Не приходит письмо активации на почту",-1),q={class:"form__input-container"},R=Object(i["g"])("label",{class:"form__label"},"Не работает личный кабинет",-1);function E(e,t,n,r,c,a){var s=Object(i["v"])("Fieldset");return Object(i["p"])(),Object(i["d"])(s,{legend:"Тема обращения",required:""},{default:Object(i["E"])((function(){return[Object(i["g"])("div",T,[Object(i["F"])(Object(i["g"])("input",{class:"form__checkbox",type:"radio",name:"theme",value:"quality",ref:"radio",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.picked=e}),onChange:t[2]||(t[2]=function(t){return e.$emit("validate",a.isValid),a.cleanInput(),n.setTheme(a.theme)})},null,544),[[i["A"],c.picked]]),D]),Object(i["g"])("div",S,[Object(i["F"])(Object(i["g"])("input",{class:"form__checkbox",type:"radio",name:"theme",value:"contract","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.picked=e}),onChange:t[4]||(t[4]=function(t){return e.$emit("validate",a.isValid),a.cleanInput(),n.setTheme(a.theme)})},null,544),[[i["A"],c.picked]]),C]),Object(i["g"])("div",P,[Object(i["F"])(Object(i["g"])("input",{class:"form__checkbox",type:"radio",name:"theme",value:"email","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.picked=e}),onChange:t[6]||(t[6]=function(t){return e.$emit("validate",a.isValid),a.cleanInput(),n.setTheme(a.theme)})},null,544),[[i["A"],c.picked]]),$]),Object(i["g"])("div",q,[Object(i["F"])(Object(i["g"])("input",{class:"form__checkbox",type:"radio",name:"theme",value:"profile","onUpdate:modelValue":t[7]||(t[7]=function(e){return c.picked=e}),onChange:t[8]||(t[8]=function(t){return e.$emit("validate",a.isValid),a.cleanInput(),n.setTheme(a.theme)})},null,544),[[i["A"],c.picked]]),R]),Object(i["F"])(Object(i["g"])("input",{class:"form__input",type:"text",placeholder:"Другое",ref:"input",required:"","onUpdate:modelValue":t[9]||(t[9]=function(e){return c.text=e}),onInput:t[10]||(t[10]=function(t){return e.$emit("validate",a.isValid),a.unpickedRadios(),n.setTheme(a.theme)})},null,544),[[i["C"],c.text]])]})),_:1})}var A={name:"ThemeFieldset",components:{Fieldset:x},props:["setTheme"],data:function(){return{picked:!1,text:""}},computed:{isValid:function(){return!(!this.picked&&!this.text)},theme:function(){return this.picked?this.picked:this.text}},methods:{cleanInput:function(){this.text="",this.$refs.input.required=!1},unpickedRadios:function(){this.picked=!1,this.$refs.radio.required=!1}}};A.render=E;var U=A;function I(e,t,n,r,c,a){var s=Object(i["v"])("Fieldset");return Object(i["p"])(),Object(i["d"])(s,{legend:"Описание проблемы",required:""},{default:Object(i["E"])((function(){return[Object(i["F"])(Object(i["g"])("textarea",{class:"form__textarea",name:"description",rows:"10",placeholder:"Введите текст",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.message=e}),onInput:t[2]||(t[2]=function(t){return e.$emit("validate",a.isValid),n.setDescription(c.message)})},null,544),[[i["C"],c.message,void 0,{trim:!0}]])]})),_:1})}var L={name:"DescriptionFieldset",components:{Fieldset:x},props:["setDescription"],data:function(){return{message:""}},computed:{isValid:function(){return!!this.message}}};n("e137");L.render=I;var N=L,B=Object(i["g"])("p",{class:"form__hint"},"Приложите, пожалуйста, полноэкранный скриншот. Это поможет быстрее решить проблему.",-1);function M(e,t,n,r,c,a){var s=Object(i["v"])("Fieldset");return Object(i["p"])(),Object(i["d"])(s,{legend:"Загрузка документов"},{default:Object(i["E"])((function(){return[B,Object(i["g"])("input",{class:"form__file-input",type:"file",name:"files",onChange:t[1]||(t[1]=function(e){return a.handleFileChange(e)})},null,32)]})),_:1})}var J={name:"FileFieldset",components:{Fieldset:x},props:["setFile"],methods:{handleFileChange:function(e){var t=this,n=e.target.files[0];if(n){var i=new FileReader;i.readAsDataURL(n),i.onloadend=function(){t.setFile(i.result)}}}}};n("47c6");J.render=M;var z=J,H={name:"Form",components:{FilialFieldset:w,ThemeFieldset:U,DescriptionFieldset:N,FileFieldset:z},data:function(){return{isFilialValid:!1,isThemeValid:!1,isDescriptionValid:!1,filial:"",theme:"",description:"",file:null}},computed:{isFormValid:function(){return this.isFilialValid&&this.isThemeValid&&this.isDescriptionValid}},methods:{validateFilial:function(e){this.isFilialValid=!!e},validateTheme:function(e){this.isThemeValid=!!e},validateDescription:function(e){this.isDescriptionValid=!!e},setFilial:function(e){this.filial=e},setTheme:function(e){this.theme=e},setDescription:function(e){this.description=e},setFile:function(e){this.file=e},handleSubmit:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,r,c,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.preventDefault(),i=t.filial,r=t.theme,c=t.description,a=t.file,n.next=4,t.$store.dispatch("sendData",{filial:i,theme:r,description:c,file:a});case 4:t.$store.state.isPostSuccess?t.$router.push("/success"):alert("Ошибка отправки заявки");case 5:case"end":return n.stop()}}),n)})))()}}};n("d063");H.render=h;var K=H,G=Object(f["a"])({history:Object(f["b"])("/test-for-maximum-education/"),routes:[{path:"/",component:K},{path:"/success",component:function(){return n.e("chunk-319681ae").then(n.bind(null,"7e5f"))}},{path:"/:catchAll(.*)",redirect:"/"}]}),Q=G;function W(e,t,n,r,c,a){var s=Object(i["v"])("RouterView");return Object(i["p"])(),Object(i["d"])(s)}var X={name:"App",store:d};n("30cd");X.render=W;var Y=X;Object(i["c"])(Y).use(d).use(Q).mount(".app")},5749:function(e,t,n){},"5f81":function(e,t,n){"use strict";n("cdb1")},c5c4:function(e,t,n){},cdb1:function(e,t,n){},d063:function(e,t,n){"use strict";n("5749")},e137:function(e,t,n){"use strict";n("c5c4")},ed5a:function(e,t,n){}});
//# sourceMappingURL=app.1a80d9ea.js.map